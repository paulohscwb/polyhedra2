<!DOCTYPE html>
<html>
<head>
	<title>Orbit functions</title>
	<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
	<script src="scripts/aframe-plot-component.min.js"></script>
	<script src="https://unpkg.com/aframe-orbit-controls@1.3.0/dist/aframe-orbit-controls.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
	<style type="text/css">
		* {font-family:'Lato'}
		input, label {padding: 5px; font-size:16px;}
		input {border-radius:10px; border:1px solid #ccc; max-width:95%;}
		output {font-size:16px; font-family:'Lato';}
		.forml {position: fixed; top: 0; max-width:40vw;}
		.box {border:1px solid #ccc; margin:5px 5px 0 5px; flex-direction: row; align-items:center; padding: 10px; box-shadow:0 0 2px grey; border-radius:7px;}
		#x_i, #x_s, #y_i, #y_s, #z_i, #z_s {max-width:47%;}
	</style>
</head>

<body>
<div style='color:#fada90; position: fixed; bottom: 1vh; left:1vw; width:100%; z-index: 1; font-family: Lato; font-size:2.5vh; font-weight:bold; text-shadow:1px 1px 1px royalblue;'>paulohscwb@gmail.com <br> &copy; 2023 Paulo Henrique Siqueira</div>
    <a-scene renderer="logarithmicDepthBuffer: true;">
      <a-assets>
			<a-mixin id="mtl8" material="color: #86B404; side:double; depthWrite:false"></a-mixin>
			<a-mixin id="imagem" rotation="-25 0 0" material="side: double; transparent: true; depthTest: false;"></a-mixin>
			<a-mixin id="mtl9" material="color: #F79F81; side:double;"></a-mixin>
			<a-mixin id="mtl0p" material="opacity: 0.2; roughness: 0.9; metalness: 0.3;"></a-mixin>
			<a-mixin id="texto" text="side: double; width: 3; color: black; align:center;" rotation="-45 0 0"></a-mixin>
			<a-mixin id="esfera" geometry="radius: 0.184;" material="metalness:0.4; roughness:0.5;">
			<a-asset-item id="material" src="outros/solidos.mtl"></a-asset-item>
			<!--<a-mixin id="anima1" animation__1='property: position; dur: 20000; from: -2.3 0 0; to: 2.3 0 0; dir: alternate; easing: linear; delay: 0; loop: 1'></a-mixin>
			<a-mixin id="anima2" animation__2='property: position; dur: 20000; from: 0 -2.3 0 ; to: 0 2.3 0; dir: alternate; easing: linear; delay: 0; loop: 1'></a-mixin>
			<a-mixin id="anima3" animation__3='property: position; dur: 20000; from: 0 0 -2.3 ; to: 0 0 2.3; dir: alternate; easing: linear; delay: 0; loop: 1'></a-mixin>
			<a-mixin id="anima0" animation__0='property: visible; from: true; to: false; dur: 1; delay: 20000'></a-mixin>
			<a-mixin id="anima00" animation__0='property: visible; from: false; to: true; dur: 1; delay: 20000'></a-mixin>-->
		</a-assets>

	<a-entity camera="fov:1; near:1;" orbit-controls="target: 0 0 0; maxPolarAngle: 180; minDistance: 0.5; initialPosition: 120 120 280; maxDistance: 1000;"></a-entity>
	  
	  <a-entity id="target">
		<a-entity id="eixos">
			<a-image src="imagens/o.png" height="0.15" width="0.15" position="0.1 -0.08 0" mixin="imagem"></a-image>
			<a-cylinder rotation="0 0 0" radius="0.005" height="4.3" color="blue"></a-cylinder>
			<a-cylinder rotation="90 0 0" radius="0.005" height="4.3" color="green"></a-cylinder>
			<a-cylinder rotation="0 0 90" radius="0.005" height="4.3" color="red"></a-cylinder>
			
			<a-cylinder rotation="0 0 90" position="0 0.5 0" radius="0.005" height="0.04" color="blue"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 1 0" radius="0.005" height="0.05" color="blue"></a-cylinder>
			<a-image src="imagens/1.png" height="0.11" width="0.11" position="0.1 1 0" mixin="imagem"></a-image>
			<a-cylinder rotation="0 0 90" position="0 1.5 0" radius="0.005" height="0.04" color="blue"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 2 0" radius="0.005" height="0.05" color="blue"></a-cylinder>
			<a-image src="imagens/2.png" height="0.11" width="0.11" position="0.1 2 0" mixin="imagem"></a-image>
			
			<a-cylinder rotation="0 0 90" position="0 -0.5 0" radius="0.005" height="0.04" color="blue"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 -1 0" radius="0.005" height="0.05" color="blue"></a-cylinder>
			<a-image src="imagens/1n.png" height="0.11" width="0.11" position="0.1 -1 0" mixin="imagem"></a-image>
			<a-cylinder rotation="0 0 90" position="0 -1.5 0" radius="0.005" height="0.04" color="blue"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 -2 0" radius="0.005" height="0.05" color="blue"></a-cylinder>
			<a-image src="imagens/2n.png" height="0.11" width="0.11" position="0.1 -2 0" mixin="imagem"></a-image>
			
			<a-cylinder rotation="90 0 0" position="0.5 0 0" radius="0.005" height="0.04" color="red"></a-cylinder>
			<a-cylinder rotation="90 0 0" position="1 0 0" radius="0.005" height="0.05" color="red"></a-cylinder>
			<a-image src="imagens/1.png" height="0.11" width="0.11" position="1 0 -0.1" mixin="imagem"></a-image>
			<a-cylinder rotation="90 0 0" position="1.5 0 0" radius="0.005" height="0.04" color="red"></a-cylinder>
			<a-cylinder rotation="90 0 0" position="2 0 0" radius="0.005" height="0.05" color="red"></a-cylinder>
			<a-image src="imagens/2.png" height="0.11" width="0.11" position="2 0 -0.1" mixin="imagem"></a-image>
			
			<a-cylinder rotation="90 0 0" position="-0.5 0 0" radius="0.005" height="0.04" color="red"></a-cylinder>
			<a-cylinder rotation="90 0 0" position="-1 0 0" radius="0.005" height="0.05" color="red"></a-cylinder>
			<a-image src="imagens/1n.png" height="0.11" width="0.11" position="-1 0 -0.1" mixin="imagem"></a-image>
			<a-cylinder rotation="90 0 0" position="-1.5 0 0" radius="0.005" height="0.04" color="red"></a-cylinder>
			<a-cylinder rotation="90 0 0" position="-2 0 0" radius="0.005" height="0.05" color="red"></a-cylinder>
			<a-image src="imagens/2n.png" height="0.11" width="0.11" position="-2 0 -0.1" mixin="imagem"></a-image>
			
			<a-cylinder rotation="0 0 90" position="0 0 0.5" radius="0.005" height="0.04" color="green"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 0 1" radius="0.005" height="0.05" color="green"></a-cylinder>
			<a-image src="imagens/1.png" height="0.11" width="0.11" position="-0.1 0 1" mixin="imagem"></a-image>
			<a-cylinder rotation="0 0 90" position="0 0 1.5" radius="0.005" height="0.04" color="green"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 0 2" radius="0.005" height="0.05" color="green"></a-cylinder>
			<a-image src="imagens/2.png" height="0.11" width="0.11" position="-0.1 0 2" mixin="imagem"></a-image>
			
			<a-cylinder rotation="0 0 90" position="0 0 -0.5" radius="0.005" height="0.04" color="green"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 0 -1" radius="0.005" height="0.05" color="green"></a-cylinder>
			<a-image src="imagens/1n.png" height="0.11" width="0.11" position="-0.1 0 -1" mixin="imagem"></a-image>
			<a-cylinder rotation="0 0 90" position="0 0 -1.5" radius="0.005" height="0.04" color="green"></a-cylinder>
			<a-cylinder rotation="0 0 90" position="0 0 -2" radius="0.005" height="0.05" color="green"></a-cylinder>
			<a-image src="imagens/2n.png" height="0.11" width="0.11" position="-0.1 0 -2" mixin="imagem"></a-image>
			
			<a-cone rotation="90 90 0" position="2.2 0 0" color="red" radius-bottom="0.04" radius-top="0" height="0.1"></a-cone>
			<a-cone rotation="90 0 0" position="0 0 2.2" color="green" radius-bottom="0.04" radius-top="0" height="0.1"></a-cone>
			<a-cone position="0 2.2 0" color="blue" radius-bottom="0.04" radius-top="0" height="0.1"></a-cone>
			<a-image src="imagens/x.png" height="0.15" width="0.15" position="2.1 0 0.1" mixin="imagem"></a-image>
			<a-image src="imagens/z.png" height="0.15" width="0.15" position="-0.1 2.2 0" mixin="imagem"></a-image>
			<a-image src="imagens/y.png" height="0.15" width="0.15" position="0.1 0 2.1" mixin="imagem"></a-image>
		</a-entity>
		<a-entity id="curva1" plot="function: sqrt(1 - x^2); order: 150; show_zero_planes: false; show_bounding_box: false; show_grid: true; bounds: -1 1 -1 1 -1 1; color: #81F79F;"></a-entity>
		<a-entity id="curva2" plot="function: -sqrt(1 - x^2); order: 150; show_zero_planes: false; show_bounding_box: false; show_grid: true; bounds: -1 1 -1 1 -1 1; color: #81F79F;"></a-entity>
		<a-plane scale="4.2 4.2 0" rotation="0 90 0" opacity="0.2" color="red" id="px" mixin="mtl8 anima"></a-plane>
		<a-plane scale="4.2 4.2 0" rotation="90 0" opacity="0.2" color="royalblue" id="pz" mixin="mtl8 anima"></a-plane>
		<a-plane scale="4.2 4.2 0" rotation="0 0 90" opacity="0.2" color="forestgreen" id="py" mixin="mtl8 anima3"></a-plane>
	  </a-entity>
	  
	  <a-sky color="aliceblue"></a-sky> <!--#E0F8F1-->

	  <a-light type="ambient" color="white" intensity="0.5"></a-light>
		<a-light type="directional" color="white" intensity="0.6" position="-1 1 1"></a-light>
		<a-light type="directional" color="white" intensity="0.6" position="1 -1 1"></a-light>
	</a-scene>
	
	<div class="forml">
		<div class="box">
			<label for="rangevalue1">a =</label><output id="rangevalue1">1</output>	
			<br><input type="range" id="param" min="0" max="2" step="0.5" value="1" onchange="rangevalue1.value=value; v=value*value; p2='sqrt('+ v.toFixed(2) + '- x^2)'; eq1.value=p2 ; mf1()">
			<input type="color" id="cor1" value="#81F79F" onchange="mc1()" style="vertical-align:top;">
			<br><label for="eq1">z = </label>
			<output onchange="mf1()" id="eq1">sqrt(1 - x^2)</output>
			<br><label>Planos:</label>
			<hr><label for="rangevalue2">x =</label><output id="rangevalue2">0</output>
			<br><input type="range" id="posx" min="-2.1" max="2.1" step="0.01" value="1" onchange="rangevalue2.value=value; mpx()">
			<br><label for="rangevalue3">y =</label><output id="rangevalue3">0</output>
			<br><input type="range" id="posy" min="-2.1" max="2.1" step="0.01" value="1" onchange="rangevalue3.value=value; mpy()">	
			<br><label for="rangevalue4">z =</label><output id="rangevalue4">0</output>
			<br><input type="range" id="posz" min="-2.1" max="2.1" step="0.01" value="1" onchange="rangevalue4.value=value; mpz()">
			<!--<br><label>Limites:</label>
			<hr>x<sub>min</sub>:
			<output id="rangevalue5">-1</output>
			<br><input type="range" id="x_i" min="-10" max="-0.01" step="0.01" value="-1" onchange="rangevalue5.value=value; mlim()">
			<br>y<sub>min</sub>:
			<output id="rangevalue6">-1</output>
			<br><input type="range" id="y_i" min="-10" max="-0.1" step="0.1" value="-1" onchange="rangevalue6.value=value; mlim()">
			<br>z<sub>min</sub>:
			<output id="rangevalue7">-1</output>
			<br><input type="range" id="z_i" min="-10" max="-0.1" step="0.1" value="-1" onchange="rangevalue7.value=value; mlim()">
			<br>x<sub>max</sub>:
			<output id="rangevalue8">1</output>
			<br><input type="range" id="x_s" min="0.1" max="10" step="0.1" value="1" onchange="rangevalue8.value=value; mlim()">
			<br>y<sub>max</sub>:
			<output id="rangevalue9">1</output>
			<br><input type="range" id="y_s" min="0.1" max="10" step="0.1" value="1" onchange="rangevalue9.value=value; mlim()">
			<br>z<sub>max</sub>:
			<output id="rangevalue0">1</output>
			<br><input type="range" id="z_s" min="0.1" max="10" step="0.1" value="1" onchange="rangevalue0.value=value; mlim()">-->
		</div>
	</div>
	
	<script>
	function mf1() {
		var x = document.getElementById("eq1").value
		var vl = document.getElementById("rangevalue1").value
		var ord = 150 * vl
		var sceneEl = document.querySelector('a-scene')
		var entityEl = sceneEl.querySelector('#curva1')
		var entityEl1 = sceneEl.querySelector('#curva2')
		var bnd = '-' + vl + ' ' + vl + ' -' + vl + ' ' + vl + ' -' + vl + ' ' + vl
		if (x.length > 0) { 
		  entityEl.setAttribute('visible','true');
		  entityEl1.setAttribute('visible','true');
		  entityEl.setAttribute('plot', {
		  function: x, bounds: bnd, order: ord
		});
		  entityEl1.setAttribute('plot', {
		  function: '-' + x, bounds: bnd, order: ord
		});
		  }
		else {
		  entityEl.setAttribute('visible','false');
		}
	}

	function mpx() {
		var sceneEl = document.querySelector('a-scene')
		var entityEl = sceneEl.querySelector('#px')
		var p = document.getElementById("posx").value
		entityEl.setAttribute('position', {x: p, y: 0, z: 0});
	}
	
	function mpy() {
		var sceneEl = document.querySelector('a-scene')
		var entityEl = sceneEl.querySelector('#py')
		var p = document.getElementById("posy").value
		entityEl.setAttribute('position', {x: 0, y: 0, z: p});
	}
	
	function mpz() {
		var sceneEl = document.querySelector('a-scene')
		var entityEl = sceneEl.querySelector('#pz')
		var p = document.getElementById("posz").value
		entityEl.setAttribute('position', {x: 0, y: p, z: 0});
	}

	function mc1() {
		var y = document.getElementById("cor1").value
		var sceneEl = document.querySelector('a-scene')
		var entityEl = sceneEl.querySelector('#curva1')
		var entityEl1 = sceneEl.querySelector('#curva2')
		entityEl.setAttribute('plot', {
		  color: y
		});
		entityEl1.setAttribute('plot', {
		  color: y
		});
	}

	function mlim() {
		var xi = document.getElementById("x_i").value
		var xs = document.getElementById("x_s").value
		var yi = document.getElementById("y_i").value
		var ys = document.getElementById("y_s").value
		var zi = document.getElementById("z_i").value
		var zs = document.getElementById("z_s").value
		var sceneEl = document.querySelector('a-scene')
		var entityEl = sceneEl.querySelector('#curva1')
		var entityEl1 = sceneEl.querySelector('#curva2')
		var bnd = xi.concat(" ", xs, " ", zi, " ", zs, " ", yi, " ", ys) 
		entityEl.setAttribute('plot', {
		  bounds: bnd
		});
		entityEl1.setAttribute('plot', {
		  bounds: bnd
		})
	}
	</script>
</body>
</html>